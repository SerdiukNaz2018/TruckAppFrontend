{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\serdi\\\\source\\\\repos\\\\TruckAppFrontend\\\\truck-app\\\\src\\\\containers\\\\Trucks\\\\Trucks.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Truck from \"./Truck/Truck\";\nimport classes from \"./Trucks.module.css\";\nimport NewTruck from \"./Truck/NewTruck/NewTruck\";\nimport Spinner from '../../components/UI/Spinner/Spinner';\n\nclass Trucks extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      truckList: null,\n      loading: true,\n      searchRequest: \"\",\n      adding: false,\n      admin: false,\n      buttonText: \"Admin\"\n    };\n\n    this.adminUserToggle = () => {\n      if (this.state.admin) {\n        this.setState({\n          admin: false,\n          buttonText: \"Admin\"\n        });\n      } else {\n        this.setState({\n          admin: true,\n          buttonText: \"User\"\n        });\n      }\n    };\n\n    this.enableAddingMode = () => {\n      this.setState({\n        adding: true\n      });\n    };\n\n    this.disableAddingMode = () => {\n      this.setState({\n        adding: false\n      });\n    };\n\n    this.setupTruckList = () => {\n      axios //.get(\"http://localhost:8088/api/truck\")\n      .get('https://course-project-react.firebaseio.com/trucks.json').then(response => {\n        this.setState({\n          truckList: response.data,\n          loading: false\n        });\n      }).catch(error => {\n        console.log(error.message);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.sortHandler = event => {\n      this.setState({\n        loading: true\n      });\n      axios.get(`http://localhost:8088/api/truck?SortBy=${event.target.value}`).then(response => {\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          truckList: response.data\n        });\n        console.log(response.data);\n      }).catch(error => {\n        this.setState({\n          loading: false\n        });\n        console.log(error);\n      });\n    };\n\n    this.searchButtonHandler = () => {\n      this.setState({\n        loading: true\n      });\n      axios.get(`http://localhost:8088/api/truck?SearchQuery=${this.state.searchRequest}`).then(response => {\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          truckList: response.data\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false\n        });\n        console.log(error);\n      });\n    };\n\n    this.setSearchRequest = event => {\n      this.setState({\n        searchRequest: event.target.value\n      });\n    };\n\n    this.reverseTruckList = () => {\n      const reversed = [...this.state.truckList];\n      reversed.reverse();\n      this.setState({\n        truckList: reversed\n      });\n    };\n  }\n\n  shouldComponentUpdate(_, nextState) {\n    return JSON.stringify(nextState.truckList) !== JSON.stringify(this.state.truckList) || this.state.loading !== nextState.loading || this.state.adding !== nextState.adding //||\n    //this.state.admin !== nextState.admin\n    ;\n  }\n\n  componentDidMount() {\n    this.setupTruckList();\n  }\n\n  render() {\n    console.log(\"rendered\");\n    let trucks = /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 22\n      }\n    }, \"Loading...\");\n\n    if (!this.state.loading) {\n      trucks = this.state.truckList.map((truck, index) => {\n        return /*#__PURE__*/React.createElement(Truck, {\n          key: truck.id,\n          reload: this.setupTruckList,\n          truckId: truck.id,\n          brand: truck.brand,\n          model: truck.model,\n          price: truck.priceUSD,\n          years: truck.amountYear,\n          country: truck.country,\n          licensePlate: truck.registrationPlate,\n          source: truck.imagePath,\n          admin: this.state.admin //!!!!!\n          ,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }\n        });\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.Trucks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NewTruck, {\n      visible: this.state.adding,\n      enableRegularMode: this.disableAddingMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      placeholder: \"Search\",\n      onChange: this.setSearchRequest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.searchButtonHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        borderRadius: \"10px\",\n        margin: '10px'\n      },\n      onClick: this.adminUserToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, this.state.buttonText), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Sort by: \"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"sort\",\n      style: {\n        borderRadius: \"10px\",\n        margin: \"10px\"\n      },\n      onChange: this.sortHandler,\n      defaultValue: \"Brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"PriceUSD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"AmountYear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"Years\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"Brand\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Model\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, \"Model\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Country\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, \"Country\")), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        height: \"30px\",\n        width: \"60px\",\n        borderRadius: \"10px\"\n      },\n      onClick: this.reverseTruckList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"\\u2191 \\u2193\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        height: \"50px\",\n        width: \"215px\",\n        borderRadius: \"10px\"\n      },\n      onClick: this.enableAddingMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \"New Truck\")), this.state.loading ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 39\n      }\n    }) : trucks);\n  }\n\n}\n\nexport default Trucks;","map":{"version":3,"sources":["C:/Users/serdi/source/repos/TruckAppFrontend/truck-app/src/containers/Trucks/Trucks.js"],"names":["React","Component","axios","Truck","classes","NewTruck","Spinner","Trucks","state","truckList","loading","searchRequest","adding","admin","buttonText","adminUserToggle","setState","enableAddingMode","disableAddingMode","setupTruckList","get","then","response","data","catch","error","console","log","message","sortHandler","event","target","value","searchButtonHandler","setSearchRequest","reverseTruckList","reversed","reverse","shouldComponentUpdate","_","nextState","JSON","stringify","componentDidMount","render","trucks","map","truck","index","id","brand","model","priceUSD","amountYear","country","registrationPlate","imagePath","borderRadius","margin","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Truck from \"./Truck/Truck\";\r\nimport classes from \"./Trucks.module.css\";\r\nimport NewTruck from \"./Truck/NewTruck/NewTruck\";\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\n\r\nclass Trucks extends Component {\r\n    state = {\r\n        truckList: null,\r\n        loading: true,\r\n        searchRequest: \"\",\r\n        adding: false,\r\n        admin: false,\r\n        buttonText: \"Admin\",\r\n    };\r\n\r\n    adminUserToggle = () => {\r\n        if (this.state.admin) {\r\n            this.setState({ admin: false, buttonText: \"Admin\" });\r\n        } else {\r\n            this.setState({ admin: true, buttonText: \"User\" });\r\n        }\r\n    };\r\n\r\n    enableAddingMode = () => {\r\n        this.setState({ adding: true });\r\n    };\r\n\r\n    disableAddingMode = () => {\r\n        this.setState({ adding: false });\r\n    };\r\n\r\n    shouldComponentUpdate(_, nextState) {\r\n        return (\r\n            JSON.stringify(nextState.truckList) !==\r\n                JSON.stringify(this.state.truckList) ||\r\n            this.state.loading !== nextState.loading ||\r\n            this.state.adding !== nextState.adding //||\r\n            //this.state.admin !== nextState.admin\r\n        );\r\n    }\r\n\r\n    setupTruckList = () => {\r\n        axios\r\n            //.get(\"http://localhost:8088/api/truck\")\r\n            .get('https://course-project-react.firebaseio.com/trucks.json')\r\n            .then(response => {\r\n                this.setState({ truckList: response.data, loading: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error.message);\r\n                this.setState({ loading: false });\r\n            });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setupTruckList();\r\n    }\r\n\r\n    sortHandler = event => {\r\n        this.setState({loading: true});\r\n        axios\r\n            .get(`http://localhost:8088/api/truck?SortBy=${event.target.value}`)\r\n            .then(response => {\r\n                this.setState({loading: false});\r\n                this.setState({ truckList: response.data });\r\n                console.log(response.data);\r\n            })\r\n            .catch(error => {\r\n                this.setState({loading: false});\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    searchButtonHandler = () => {\r\n        this.setState({loading: true});\r\n        axios\r\n            .get(`http://localhost:8088/api/truck?SearchQuery=${this.state.searchRequest}`)\r\n            .then(response => {\r\n                this.setState({loading: false});\r\n                this.setState({ truckList: response.data });\r\n            })\r\n            .catch(error => {\r\n                this.setState({loading: false});\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    setSearchRequest = event => {\r\n        this.setState({ searchRequest: event.target.value });\r\n    };\r\n\r\n    reverseTruckList = () => {\r\n        const reversed = [...this.state.truckList];\r\n        reversed.reverse();\r\n        this.setState({ truckList: reversed });\r\n    };\r\n\r\n    render() {\r\n        console.log(\"rendered\");\r\n        let trucks = <p>Loading...</p>;\r\n\r\n        if (!this.state.loading) {\r\n            trucks = this.state.truckList.map((truck, index) => {\r\n                return (\r\n                    <Truck\r\n                        key={truck.id}\r\n                        reload={this.setupTruckList}\r\n                        truckId={truck.id}\r\n                        brand={truck.brand}\r\n                        model={truck.model}\r\n                        price={truck.priceUSD}\r\n                        years={truck.amountYear}\r\n                        country={truck.country}\r\n                        licensePlate={truck.registrationPlate}\r\n                        source={truck.imagePath}\r\n                        admin={this.state.admin} //!!!!!\r\n                    />\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div className={classes.Trucks}>\r\n                <NewTruck\r\n                    visible={this.state.adding}\r\n                    enableRegularMode={this.disableAddingMode}\r\n                />\r\n                <input\r\n                    type=\"search\"\r\n                    placeholder=\"Search\"\r\n                    onChange={this.setSearchRequest}\r\n                />\r\n                <button onClick={this.searchButtonHandler}>Search</button>\r\n\r\n                <button\r\n                    style={{ borderRadius: \"10px\", margin: '10px' }}\r\n                    onClick={this.adminUserToggle}\r\n                >\r\n                    {this.state.buttonText}\r\n                </button>\r\n\r\n                <div style={{ margin: \"10px\" }}>\r\n                    <label htmlFor=\"sort\">Sort by: </label>\r\n                    <select\r\n                        id=\"sort\"\r\n                        style={{ borderRadius: \"10px\", margin: \"10px\" }}\r\n                        onChange={this.sortHandler}\r\n                        defaultValue=\"Brand\"\r\n                    >\r\n                        <option value=\"PriceUSD\">Price</option>\r\n                        <option value=\"AmountYear\">Years</option>\r\n                        <option value=\"Brand\">Brand</option>\r\n                        <option value=\"Model\">Model</option>\r\n                        <option value=\"Country\">Country</option>\r\n                    </select>\r\n                    <button\r\n                        style={{\r\n                            height: \"30px\",\r\n                            width: \"60px\",\r\n                            borderRadius: \"10px\",\r\n                        }}\r\n                        onClick={this.reverseTruckList}\r\n                    >\r\n                        ↑ ↓\r\n                    </button>\r\n                </div>\r\n                <div>\r\n                    <button\r\n                        style={{\r\n                            height: \"50px\",\r\n                            width: \"215px\",\r\n                            borderRadius: \"10px\",\r\n                        }}\r\n                        onClick={this.enableAddingMode}\r\n                    >\r\n                        New Truck\r\n                    </button>\r\n                </div>\r\n                {this.state.loading ? <Spinner /> : trucks}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Trucks;\r\n"]},"metadata":{},"sourceType":"module"}