{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\serdi\\\\source\\\\repos\\\\my-app\\\\src\\\\containers\\\\Trucks\\\\Trucks.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Truck from \"./Truck/Truck\";\nimport classes from \"./Trucks.module.css\";\n\nclass Trucks extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      truckList: null,\n      loading: true,\n      searchRequest: \"\"\n    };\n\n    this.sortHandler = event => {\n      axios.get(`http://api/truck/sortBy= {${event.target.value}}`).then(response => {\n        this.setState({\n          truckList: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.searchButtonHandler = () => {\n      axios.post(\"\", this.state.searchRequest).then(response => {\n        this.setState({\n          truckList: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.setSearchRequest = event => {\n      this.setState({\n        searchRequest: event.target.value\n      });\n    };\n\n    this.reverseTruckList = () => {\n      const reversed = [...this.state.truckList];\n      reversed.reverse();\n      this.setState({\n        truckList: reversed\n      });\n    };\n  }\n\n  shouldComponentUpdate(_, nextState) {\n    return JSON.stringify(nextState.truckList) !== JSON.stringify(this.state.truckList) || this.state.loading !== nextState.loading;\n  }\n\n  componentDidMount() {\n    axios.get(\"https://course-project-react.firebaseio.com/trucks.json\").then(response => {\n      this.setState({\n        truckList: response.data,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error.message);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    console.log(\"rendered\");\n    let trucks = /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 22\n      }\n    }, \"Loading...\");\n\n    if (!this.state.loading) {\n      trucks = this.state.truckList.map(truck => {\n        return /*#__PURE__*/React.createElement(Truck, {\n          key: truck.registrationPlate,\n          brand: truck.brand,\n          model: truck.model,\n          price: truck.price,\n          years: truck.amountYear,\n          country: truck.country,\n          licensePlate: truck.registrationPlate,\n          source: truck.imagePath,\n          admin: true //hardcooooode!!!!!\n          ,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }\n        });\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.Trucks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      placeholder: \"Search\",\n      onChange: this.setSearchRequest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.searchButtonHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"Sort by: \"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"sort\",\n      style: {\n        borderRadius: \"10px\",\n        margin: \"10px\"\n      },\n      onChange: this.sortHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"year\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Years\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Brand\")), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        height: \"30px\",\n        width: \"60px\",\n        borderRadius: \"10px\"\n      },\n      onClick: this.reverseTruckList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, \"\\u2191 \\u2193\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        height: \"50px\",\n        width: \"200px\",\n        borderRadius: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"New Truck\")), this.state.loading ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 39\n      }\n    }, \"Loading...\") : trucks);\n  }\n\n}\n\nexport default Trucks;","map":{"version":3,"sources":["C:/Users/serdi/source/repos/my-app/src/containers/Trucks/Trucks.js"],"names":["React","Component","axios","Truck","classes","Trucks","state","truckList","loading","searchRequest","sortHandler","event","get","target","value","then","response","setState","data","catch","error","console","log","searchButtonHandler","post","setSearchRequest","reverseTruckList","reversed","reverse","shouldComponentUpdate","_","nextState","JSON","stringify","componentDidMount","message","componentWillUnmount","render","trucks","map","truck","registrationPlate","brand","model","price","amountYear","country","imagePath","margin","borderRadius","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Truck from \"./Truck/Truck\";\r\nimport classes from \"./Trucks.module.css\";\r\n\r\nclass Trucks extends Component {\r\n    state = {\r\n        truckList: null,\r\n        loading: true,\r\n        searchRequest: \"\",\r\n    };\r\n\r\n    shouldComponentUpdate(_, nextState) {\r\n        return (\r\n            JSON.stringify(nextState.truckList) !==\r\n                JSON.stringify(this.state.truckList) ||\r\n            this.state.loading !== nextState.loading\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios\r\n            .get(\"https://course-project-react.firebaseio.com/trucks.json\")\r\n            .then(response => {\r\n                this.setState({ truckList: response.data, loading: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error.message);\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        \r\n    }\r\n    \r\n\r\n    sortHandler = event => {\r\n        axios\r\n            .get(`http://api/truck/sortBy= {${event.target.value}}`)\r\n            .then(response => {\r\n                this.setState({ truckList: response.data });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    searchButtonHandler = () => {\r\n        axios\r\n            .post(\"\", this.state.searchRequest)\r\n            .then(response => {\r\n                this.setState({ truckList: response.data });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    setSearchRequest = event => {\r\n        this.setState({ searchRequest: event.target.value });\r\n    };\r\n\r\n    reverseTruckList = () => {\r\n        const reversed = [...this.state.truckList];\r\n        reversed.reverse();\r\n        this.setState({ truckList: reversed });\r\n    };\r\n\r\n    render() {\r\n        console.log(\"rendered\");\r\n        let trucks = <p>Loading...</p>;\r\n\r\n        if (!this.state.loading) {\r\n            trucks = this.state.truckList.map(truck => {\r\n                return (\r\n                    <Truck\r\n                        key={truck.registrationPlate}\r\n                        brand={truck.brand}\r\n                        model={truck.model}\r\n                        price={truck.price}\r\n                        years={truck.amountYear}\r\n                        country={truck.country}\r\n                        licensePlate={truck.registrationPlate}\r\n                        source={truck.imagePath}\r\n                        admin={true} //hardcooooode!!!!!\r\n                    />\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div className={classes.Trucks}>\r\n                <input\r\n                    type=\"search\"\r\n                    placeholder=\"Search\"\r\n                    onChange={this.setSearchRequest}\r\n                />\r\n                <button onClick={this.searchButtonHandler}>Search</button>\r\n\r\n                <div style={{ margin: \"10px\" }}>\r\n                    <label htmlFor=\"sort\">Sort by: </label>\r\n                    <select\r\n                        id=\"sort\"\r\n                        style={{ borderRadius: \"10px\", margin: \"10px\" }}\r\n                        onChange={this.sortHandler}\r\n                    >\r\n                        <option value=\"price\">Price</option>\r\n                        <option value=\"year\">Years</option>\r\n                        <option value=\"brand\">Brand</option>\r\n                    </select>\r\n                    <button\r\n                        style={{\r\n                            height: \"30px\",\r\n                            width: \"60px\",\r\n                            borderRadius: \"10px\",\r\n                        }}\r\n                        onClick={this.reverseTruckList}\r\n                    >\r\n                        ↑ ↓\r\n                    </button>\r\n                </div>\r\n                <div>\r\n                    <button\r\n                        style={{\r\n                            height: \"50px\",\r\n                            width: \"200px\",\r\n                            borderRadius: \"10px\",\r\n                        }}\r\n                    >\r\n                        New Truck\r\n                    </button>\r\n                </div>\r\n                {this.state.loading ? <p>Loading...</p> : trucks}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Trucks;\r\n"]},"metadata":{},"sourceType":"module"}